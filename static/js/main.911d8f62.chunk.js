(this.webpackJsonpreact_ts_demo=this.webpackJsonpreact_ts_demo||[]).push([[0],{21:function(t,e){function s(t){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}s.keys=function(){return[]},s.resolve=s,t.exports=s,s.id=21},22:function(t,e){},28:function(t,e,s){},29:function(t,e,s){},58:function(t,e){},59:function(t,e){},60:function(t,e){},61:function(t,e){},62:function(t,e){},63:function(t,e){},66:function(t,e,s){"use strict";s.r(e);var c=s(1),a=s.n(c),n=s(23),r=s.n(n),i=(s(28),s(17)),o=s(3),l=s(4),d=s(6),j=s(5),u=(s(29),s(30),s(31),s(52),s(8)),h=s(7),b=(Object(h.b)(),s(0)),p=function(t){Object(d.a)(s,t);var e=Object(j.a)(s);function s(){return Object(o.a)(this,s),e.apply(this,arguments)}return Object(l.a)(s,[{key:"render",value:function(){return Object(b.jsx)(b.Fragment,{children:Object(b.jsx)("nav",{className:"navbar navbar-expand-lg navbar-dark  navbar-style",children:Object(b.jsxs)("div",{className:"container-fluid",children:[Object(b.jsx)("a",{className:"navbar-brand",href:"/#",children:"My App"}),Object(b.jsx)("button",{className:"navbar-toggler",type:"button",color:"red","data-bs-toggle":"collapse","data-bs-target":"/#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation",children:Object(b.jsx)("span",{className:"navbar-toggler-icon"})}),Object(b.jsx)("div",{className:"collapse navbar-collapse",id:"navbarSupportedContent",children:Object(b.jsxs)("ul",{className:"navbar-nav me-auto mb-2 mb-lg-0",children:[this.props.isLoggedIn?"":Object(b.jsx)("li",{className:"nav-item",children:Object(b.jsx)(u.c,{to:"/",className:"nav-link",activeclassname:"active",exact:!0,children:"Login"})}),this.props.isLoggedIn?Object(b.jsx)("li",{className:"nav-item",children:Object(b.jsx)(u.c,{to:"/dashboard",className:"nav-link",activeclassname:"active",children:"Dashboard"})}):"",this.props.isLoggedIn?Object(b.jsx)("li",{className:"nav-item",children:Object(b.jsx)(u.c,{to:"/customers",className:"nav-link",activeclassname:"active",children:"Customers"})}):"",this.props.isLoggedIn?Object(b.jsx)("li",{className:"nav-item",children:Object(b.jsx)(u.c,{to:"/cart",className:"nav-link",activeclassname:"active",children:"Cart"})}):"",this.props.isLoggedIn?Object(b.jsx)("li",{className:"nav-item",children:Object(b.jsx)("a",{href:"/#",className:"nav-link",activeclassname:"active",onClick:this.onLogoutClick,children:"Logout"})}):""]})})]})})})}}]),s}(a.a.Component),m=p,O=function(t){Object(d.a)(s,t);var e=Object(j.a)(s);function s(){var t;Object(o.a)(this,s);for(var c=arguments.length,a=new Array(c),n=0;n<c;n++)a[n]=arguments[n];return(t=e.call.apply(e,[this].concat(a))).state={pageTitle:"Customers",customerCount:5,customers:[{id:1,name:"Scott",phone:"18727867862",address:{city:"\u4e0a\u6d77"},photo:"https://picsum.photos/id/124/65"},{id:2,name:"Loyal",phone:"18727867834",address:{city:"\u5317\u4eac"},photo:"https://picsum.photos/id/1068/65"},{id:3,name:"Jones",phone:null,address:{city:"\u676d\u5dde"},photo:"https://picsum.photos/id/102/65"},{id:4,name:"\u5c0f\u5929\u9e45",phone:"18724567862",address:{city:"\u6c5f\u82cf"},photo:"https://picsum.photos/id/1027/65"},{id:5,name:"\u79cb\u9022",phone:null,address:{city:"\u798f\u5efa"},photo:"https://picsum.photos/id/103/65"},{id:6,name:"Hello",phone:"18727892862",address:{city:"\u6df1\u5733"},photo:"https://picsum.photos/id/104/65"}]},t.customerNameStyle=function(t){return t.match(/\w+/)?"green-hight border-left":"red-hight border-left "},t.onRefreshClick=function(){t.setState({customerCount:7})},t.getCustomerRow=function(){return t.state.customers.map((function(e,s){return Object(b.jsxs)("tr",{children:[Object(b.jsx)("td",{children:e.id}),Object(b.jsxs)("td",{children:[Object(b.jsx)("img",{src:e.photo,alt:"customer\u2018s photo"}),Object(b.jsx)("div",{children:Object(b.jsx)("button",{className:"btn btn-sm btn-secondary ",style:{marginTop:"3px"},onClick:function(){t.onChangePictureClick(s)},children:"\u66f4\u6362\u5934\u50cf"})})]}),Object(b.jsx)("td",{className:t.customerNameStyle(e.name),children:e.name}),Object(b.jsx)("td",{children:t.setPhoneToRender(e.phone)}),Object(b.jsx)("td",{children:e.address.city})]},e.id)}))},t.setPhoneToRender=function(t){return t||Object(b.jsx)("div",{className:"bg-warning p-1",children:"\u7535\u8bdd\u53f7\u7801\u672a\u6ce8\u518c"})},t.onChangePictureClick=function(e){var s=t.state.customers,c=parseInt((100*Math.random()).toString());s[e].photo="https://picsum.photos/id/".concat(c,"/65"),t.setState({customers:s})},t}return Object(l.a)(s,[{key:"render",value:function(){return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsxs)("h4",{className:"boder-bottom m-1 b-1",children:[this.state.pageTitle,Object(b.jsx)("span",{className:"badge bg-secondary",children:this.state.customerCount}),Object(b.jsx)("button",{onClick:this.onRefreshClick,className:"btn btn-info m-1",children:"Refresh"})]}),Object(b.jsxs)("table",{className:"table m-1 table-hover ",children:[Object(b.jsx)("thead",{children:Object(b.jsxs)("tr",{children:[Object(b.jsx)("th",{children:"\u5e8f\u53f7"}),Object(b.jsx)("th",{children:"\u5934\u50cf"}),Object(b.jsx)("th",{children:"\u6635\u79f0"}),Object(b.jsx)("th",{children:"\u7535\u8bdd\u53f7\u7801"}),Object(b.jsx)("th",{children:"\u5730\u5740"})]})}),Object(b.jsx)("tbody",{children:this.getCustomerRow()})]})]})}}]),s}(c.Component),x=O,v=s(10),f=s.n(v),g=s(13),N=s(14),y=function(t){Object(d.a)(s,t);var e=Object(j.a)(s);function s(){var t;Object(o.a)(this,s);for(var c=arguments.length,a=new Array(c),n=0;n<c;n++)a[n]=arguments[n];return(t=e.call.apply(e,[this].concat(a))).state={product:t.props.product},t}return Object(l.a)(s,[{key:"render",value:function(){var t=this;return Object(b.jsx)("div",{className:"col-lg-6",children:Object(b.jsxs)("div",{className:"card m-2",children:[Object(b.jsxs)("div",{className:"card-body",children:[Object(b.jsxs)("div",{className:"text-muted",children:["#",this.state.product.id,Object(b.jsx)("span",{className:"pull-right hand-icon",onClick:function(){t.props.onDelete(t.state.product)},children:Object(b.jsx)("i",{className:"fa fa-times"})})]}),Object(b.jsx)("h5",{className:"pt-5 border-top",children:this.state.product.productName}),Object(b.jsxs)("div",{children:["$",this.state.product.price]})]}),Object(b.jsx)("div",{className:"card-footer",children:Object(b.jsxs)("div",{className:"float-left",children:[Object(b.jsx)("span",{className:"p-2",children:this.state.product.quantity}),Object(b.jsxs)("div",{className:"btn-group",children:[Object(b.jsx)("button",{className:"btn btn-outline-success",onClick:function(){t.props.onIncrement(t.state.product)},children:"+"}),Object(b.jsx)("button",{className:"btn btn-outline-success",onClick:function(){t.state.product.quantity>0&&t.props.onDecrement(t.state.product)},children:"-"})]}),Object(b.jsxs)("div",{className:"float-end",children:[Object(b.jsx)(u.b,{to:"product/".concat(this.state.product.id),className:"m-3",children:"\u8be6\u60c5"}),Object(b.jsx)("span",{children:this.props.children})]})]})})]})})}}]),s}(c.Component),C=function(t){Object(d.a)(s,t);var e=Object(j.a)(s);function s(t){var c;return Object(o.a)(this,s),(c=e.call(this,t)).handleIncrement=function(t){var e=Object(N.a)(c.state.products),s=e.indexOf(t);e[s].quantity++,c.setState({products:e})},c.handleDecrement=function(t){var e=Object(N.a)(c.state.products),s=e.indexOf(t);e[s].quantity--,c.setState({products:e})},c.handleDelete=function(t){var e=Object(N.a)(c.state.products),s=e.indexOf(t);window.confirm("\u786e\u5b9a\u8981\u5220\u9664\u4e48")&&e.splice(s,1),c.setState({products:e})},c.state={products:[{id:1,productName:"iPhone",price:8900,quantity:1},{id:2,productName:"Xbox",price:7780,quantity:0},{id:3,productName:"iPad Pro",price:124e3,quantity:0},{id:4,productName:"\u8363\u8000p30",price:3400,quantity:0},{id:5,productName:"\u5c0f\u7c73",price:3e3,quantity:0},{id:6,productName:"iPad 11",price:3240,quantity:0}]},c}return Object(l.a)(s,[{key:"render",value:function(){var t=this;return Object(b.jsxs)("div",{children:[Object(b.jsx)("h4",{children:"\u8d2d\u7269\u8f66"}),Object(b.jsx)("div",{className:"row",children:this.state.products.map((function(e){return Object(b.jsx)(y,{product:e,onIncrement:t.handleIncrement,onDecrement:t.handleDecrement,onDelete:t.handleDelete,children:Object(b.jsx)("button",{className:"btn btn-primary",children:"\u7acb\u5373\u8d2d\u4e70"})},e.id)}))})]})}},{key:"componentDidMount",value:function(){var t=Object(g.a)(f.a.mark((function t(){var e,s;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch(" http://localhost:5000/products",{method:"GET"});case 2:return e=t.sent,t.next=5,e.json();case 5:s=t.sent,this.setState({products:s});case 7:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"componentDidUpdate",value:function(t,e){}}]),s}(a.a.Component),k=C,w=function(t){Object(d.a)(s,t);var e=Object(j.a)(s);function s(t){var c;return Object(o.a)(this,s),(c=e.call(this,t)).onLoginClick=Object(g.a)(f.a.mark((function t(){var e;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("http://localhost:5000/users?email=".concat(c.state.email,"& password = ").concat(c.state.passwords));case 2:return e=t.sent,t.next=5,e.json();case 5:t.sent.length>0?(c.setState({message:"\u8f93\u5165\u6b63\u786e"}),c.props.updateIsLoggedInStatus(!0),c.props.history.replace({pathname:"./dashboard"})):c.setState({message:"\u8d26\u53f7\u5bc6\u7801\u8f93\u5165\u9519\u8bef"});case 7:case"end":return t.stop()}}),t)}))),c.state={email:"",passwords:"",message:""},c}return Object(l.a)(s,[{key:"render",value:function(){var t=this;return Object(b.jsxs)("div",{className:"login p-4 m-5",children:[Object(b.jsx)("h4",{className:"m-2 p-2 border-bottom",children:"Login"}),Object(b.jsxs)("div",{className:"form-group form-row mb-3 ",children:[Object(b.jsx)("label",{className:"col-lg-4 form-label",htmlFor:"email",children:"Email:"}),Object(b.jsx)("input",{type:"text",className:"form-control ",id:"email",value:this.state.email,onChange:function(e){t.setState({email:e.target.value})}})]}),Object(b.jsxs)("div",{className:"form-group form-row mb-3",children:[Object(b.jsx)("label",{className:"col-lg-4 form-label",htmlFor:"passwords",children:"Password:"}),Object(b.jsx)("input",{type:"password",id:"passwords",className:"form-control",value:this.state.passwords,onChange:function(e){t.setState({passwords:e.target.value})}})]}),Object(b.jsxs)("div",{children:[Object(b.jsx)("span",{className:"text-danger",children:this.state.message}),Object(b.jsx)("button",{className:"btn btn-primary m-1 right",onClick:this.onLoginClick,children:"Login"})]})]})}}]),s}(a.a.Component),I=function(t){Object(d.a)(s,t);var e=Object(j.a)(s);function s(){return Object(o.a)(this,s),e.apply(this,arguments)}return Object(l.a)(s,[{key:"render",value:function(){return Object(b.jsx)("div",{children:Object(b.jsx)("h4",{children:"Dashboard"})})}}]),s}(c.Component),S=s(2),L=function(t){Object(d.a)(s,t);var e=Object(j.a)(s);function s(){return Object(o.a)(this,s),e.apply(this,arguments)}return Object(l.a)(s,[{key:"render",value:function(){return Object(b.jsx)("div",{children:Object(b.jsx)("h4",{children:"page not found"})})}}]),s}(c.Component),D=(s(55),function(t){Object(d.a)(s,t);var e=Object(j.a)(s);function s(){return Object(o.a)(this,s),e.apply(this,arguments)}return Object(l.a)(s,[{key:"render",value:function(){return Object(b.jsxs)("div",{className:"mt-2",children:[Object(b.jsx)("h4",{className:"p-1 boder-bottom",children:"SideBar"}),Object(b.jsxs)("div",{className:"list-group mt-2",children:[Object(b.jsx)(u.c,{to:"/dashboard",activeClassname:"active",className:" list-group-item list-group-item-action",children:"DashBoard"}),Object(b.jsx)(u.c,{to:"/customers",activeClassname:"active",className:" list-group-item list-group-item-action",children:"Customers"}),Object(b.jsx)(u.c,{to:"/cart",activeClassname:"active",className:" list-group-item list-group-item-action",children:"ShoppingCart"})]})]})}}]),s}(a.a.Component)),q=function(t){Object(d.a)(s,t);var e=Object(j.a)(s);function s(){var t;Object(o.a)(this,s);for(var c=arguments.length,a=new Array(c),n=0;n<c;n++)a[n]=arguments[n];return(t=e.call.apply(e,[this].concat(a))).state={product:{}},t}return Object(l.a)(s,[{key:"render",value:function(){var t=this;return Object(b.jsx)("div",{className:"col-lg-6",children:Object(b.jsxs)("div",{className:"card m-2",children:[Object(b.jsxs)("div",{className:"card-body",children:[Object(b.jsxs)("div",{className:"text-muted",children:["#",this.state.product.id,Object(b.jsx)("span",{className:"pull-right hand-icon",onClick:function(){t.props.onDelete(t.state.product)},children:Object(b.jsx)("i",{className:"fa fa-times"})})]}),Object(b.jsx)("h5",{className:"pt-5 border-top",children:this.state.product.productName}),Object(b.jsxs)("div",{children:["$",this.state.product.price]})]}),Object(b.jsx)("div",{className:"card-footer",children:Object(b.jsxs)("div",{className:"float-left",children:[Object(b.jsx)("span",{className:"p-2",children:this.state.product.quantity}),Object(b.jsxs)("div",{className:"btn-group",children:[Object(b.jsx)("button",{className:"btn btn-outline-success",onClick:function(){t.props.onIncrement(t.state.product)},children:"+"}),Object(b.jsx)("button",{className:"btn btn-outline-success",onClick:function(){t.state.product.quantity>0&&t.props.onDecrement(t.state.product)},children:"-"})]}),Object(b.jsxs)("div",{className:"float-end",children:[Object(b.jsx)("button",{children:"\u8fd4\u56de"}),Object(b.jsx)("span",{children:this.props.children})]})]})})]})})}},{key:"componentDidMount",value:function(){console.log(this.props.match.params)}}]),s}(c.Component),P=function(t){Object(d.a)(s,t);var e=Object(j.a)(s);function s(t){var c;return Object(o.a)(this,s),(c=e.call(this,t)).updateIsLoggedInStatus=function(t){c.setState({isLoggedIn:t})},c.state={isLoggedIn:!1},c}return Object(l.a)(s,[{key:"render",value:function(){return Object(b.jsxs)(u.a,{children:[Object(b.jsx)(m,{isLoggedIn:this.state.isLoggedIn,updateIsLoggedInStatus:this.updateIsLoggedInStatus}),Object(b.jsx)("div",{className:"container-fluid",children:Object(b.jsxs)("div",{className:"row",children:[Object(b.jsx)("div",{className:"col-lg-3",children:this.state.isLoggedIn?Object(b.jsx)(D,{}):""}),Object(b.jsx)("div",{className:"col-lg-9",children:Object(b.jsxs)(S.c,{children:[Object(b.jsx)(S.a,{path:"/",exact:!0,element:Object(b.jsx)(w,Object(i.a)(Object(i.a)({},this.props),{},{updateIsLoggedInStatus:this.updateIsLoggedInStatus}))}),Object(b.jsx)(S.a,{path:"/dashboard",exact:!0,element:Object(b.jsx)(I,{})}),Object(b.jsx)(S.a,{path:"/customers",exact:!0,element:Object(b.jsx)(x,{})}),Object(b.jsx)(S.a,{path:"/cart",exact:!0,element:Object(b.jsx)(k,{})}),Object(b.jsx)(S.a,{path:"/product/:id",exact:!0,element:Object(b.jsx)(q,{})}),Object(b.jsx)(S.a,{path:"*",element:Object(b.jsx)(L,{})})]})})]})})]})}}]),s}(a.a.Component),T=function(t){t&&t instanceof Function&&s.e(3).then(s.bind(null,70)).then((function(e){var s=e.getCLS,c=e.getFID,a=e.getFCP,n=e.getLCP,r=e.getTTFB;s(t),c(t),a(t),n(t),r(t)}))};s(64);r.a.render(Object(b.jsx)(a.a.StrictMode,{children:Object(b.jsx)(P,{})}),document.getElementById("root")),T()}},[[66,1,2]]]);
//# sourceMappingURL=main.911d8f62.chunk.js.map